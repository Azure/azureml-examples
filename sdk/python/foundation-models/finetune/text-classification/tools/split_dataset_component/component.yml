$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: split_dataset
display_name: Split dataset
description: Split a json lines file into train, validation and test as a percentage of original file
version: 0.0.11
type: command
inputs:
  data_file:
    type: uri_file
    description: json lines data file to be split_dataset 
  train_split:
    type: number
    description: Decimal representing a fraction. e.g. 0.5 for 50%  
    default: 0.8
    optional: true
  validation_split:
    type: number
    description: Decimal representing a fraction. e.g. 0.5 for 50%  
    default: 0.1
    optional: true
  test_split: 
    type: number
    description: Decimal representing a fraction. e.g. 0.5 for 50%  
    default: 0.1
    optional: true
outputs:
  train_file:
    type: uri_file
  validation_file:
    type: uri_file
  test_file: 
    type: uri_file
environment: azureml://registries/azureml-preview/environments/finetune-acpt-pytorch-111-py38-cuda113-gpu/versions/0.0.11
code: ./
command: >-
  python ./split_dataset.py --data_file ${{inputs.data_file}}
  $[[--train_split ${{inputs.train_split}}]]
  $[[--validation_split ${{inputs.validation_split}}]]
  $[[--test_split ${{inputs.test_split}}]]
  --train_file ${{outputs.train_file}}
  --validation_file ${{outputs.validation_file}}
  --test_file ${{outputs.test_file}}