$schema: https://azuremlschemas.azureedge.net/latest/sweepJob.schema.json
type: sweep_job
algorithm: random
trial:
  code:
    local_path: src
  command: >-
    python main.py
    --iris-csv {inputs.datasets}/iris.csv
    --learning-rate {search_space.learning_rate}
    --boosting {search_space.boosting}
  inputs:
    datasets:
      data:
        path: https://azuremlexamples.blob.core.windows.net/datasets/
      mode: mount
  environment: azureml:AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu:8
  compute:
    target: azureml:cpu-cluster
  environment_variables:
    AZUREML_COMPUTE_USE_COMMON_RUNTIME: "true"
search_space:
  learning_rate:
    type: uniform
    min_value: 0.01
    max_value: 0.9
  boosting:
    type: choice
    values: ["gbdt", "dart"]
objective:
  primary_metric: test-multi_logloss
  goal: minimize
max_total_trials: 20
max_concurrent_trials: 10
timeout_minutes: 120
experiment_name: lightgbm-iris-sweep-example
description: Run a hyperparameter sweep job for LightGBM on Iris dataset.
