$schema: https://azuremlschemas.azureedge.net/latest/pipelineJob.schema.json
type: pipeline
display_name: object_detection_using_bulit_in_component
description: Trains an object detection model using a built-in component.

compute: azureml:gpu-compute

jobs:
  train:
    type: command
    component: azureml://registries/azureml-staging/components/train_object_detection_model/versions/0.0.1-prelease
    inputs:
      training_data:
        type: mltable
        path: ./data/training-mltable-folder
      validation_data:
        type: mltable
        path: ./data/validation-mltable-folder
    resources:
      instance_count: 1

  predict:
    type: command
    component: file:./predict.yml
    inputs:
      model: ${{parent.jobs.train.outputs.model}}
