$schema: https://azuremlschemas.azureedge.net/latest/managedOnlineDeployment.schema.json
name: vllm-phi3-deployment
endpoint_name: "{{ENDPOINT_NAME}}"
environment_variables:
  HUGGING_FACE_HUB_TOKEN: "{{HUGGING_FACE_TOKEN}}"
environment:
  name: vllm-phi3-env
  image: {{acr_name}}.azurecr.io/azureml-examples/vllm:phi3
  inference_config:
    liveness_route:
      port: 8000
      path: /health
    readiness_route:
      port: 8000
      path: /health
    scoring_route:
      port: 8000
      path: /
instance_type: Standard_NC80adis_H100_v5
instance_count: 1