name: sanity_runs for new released FT components

# Please do not edit directly.
on:
  schedule:
    - cron: "33 10/12 * * *"
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: check out repo
      uses: actions/checkout@v2
    - name: setup python
      uses: actions/setup-python@v2
      with:
        python-version: "3.8"
    - name: pip install notebook reqs
      run: pip install -r sdk/python/dev-requirements.txt
    - name: azure login
      uses: azure/login@v1
      with:
        creds: ${{secrets.AZUREML_CREDENTIALS}}
    
    - name: setup SDK
      run: |
          source "${{ github.workspace }}/infra/bootstrapping/sdk_helpers.sh";
          source "${{ github.workspace }}/infra/bootstrapping/init_environment.sh";
          bash setup.sh
      working-directory: sdk/python
      continue-on-error: true
  
    - name: run foundation-models/system/finetune/text-classification/emotion-detection.ipynb
      run: 
          papermill -k python emotion-detection.ipynb 
      working-directory: sdk/python/foundation-models/system/finetune/text-classification




